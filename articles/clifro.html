<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="clifro">
<title>From CliFlo to *clifro*: An Introduction • clifro</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="From CliFlo to *clifro*: An Introduction">
<meta property="og:description" content="clifro">
<meta property="og:image" content="https://docs.ropensci.org/clifro/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">clifro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.2-5.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="active nav-item">
  <a class="nav-link" href="../articles/clifro.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/cfStation.html">Working with *clifro* Stations</a>
    <a class="dropdown-item" href="../articles/choose-datatype.html">Choosing a *clifro* Datatype</a>
    <a class="dropdown-item" href="../articles/choose-station.html">Choosing a *clifro* Station</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/clifro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>From CliFlo to *clifro*: An Introduction</h1>
                        <h4 data-toc-skip class="author">Blake Seers</h4>
            
            <h4 data-toc-skip class="date">2024-03-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/clifro/blob/HEAD/vignettes/clifro.Rmd" class="external-link"><code>vignettes/clifro.Rmd</code></a></small>
      <div class="d-none name"><code>clifro.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The National Climate Database holds climate data from around 6,500 climate stations around New Zealand including some offshore and Pacific Islands. Over 600 stations are currently active and are still receiving valuable climate data. <a href="https://cliflo.niwa.co.nz/" class="external-link">CliFlo</a> is a web interface to the database managed by <a href="https://niwa.co.nz/" class="external-link">NIWA</a>, allowing users to submit queries and retrieve ten-minute, hourly, daily or summary data. The use of CliFlo is free given that the user has <a href="https://cliflo.niwa.co.nz/pls/niwp/wsubform.intro" class="external-link">subscribed</a> and accepted NIWA’s <a href="https://cliflo.niwa.co.nz/doc/terms.html" class="external-link">terms and conditions</a>.</p>
<p>The <code>clifro</code> package is designed to make CliFlo queries much simpler and provide extensions that are currently not offered by CliFlo. The intention is to simplify the data extraction, manipulation, exploration and visualisation processes and easily create publication-worthy graphics for some of the primary datatypes, especially for users with limited or non-existent previous R experience. Experienced useRs will also find this package helpful for maximising efficiency of climate data integration with R for further analysis, modelling or export.</p>
<p>This vignette provides an introduction to the <code>clifro</code> package demonstrating the primary functionality by way of example. For more information on any of the functions in the <code>clifro</code> package the user is referred to the help index for the <code>clifro</code> package, <code><a href="https://docs.ropensci.org/clifro/reference">help(package = "clifro")</a></code>.</p>
</div>
<div class="section level2">
<h2 id="create-a-clifro-user">Create a clifro User<a class="anchor" aria-label="anchor" href="#create-a-clifro-user"></a>
</h2>
<p>As stated above, if the intention is to extract data from any station other than Reefton Ews (subscription-free) and to maximise the potential of <code>clifro</code>, a valid <a href="https://cliflo.niwa.co.nz/pls/niwp/wsubform.intro" class="external-link">subscription</a> is needed.</p>
<p>The <code>cf_user</code> function is all that is required to create a valid <code>clifro</code> user,</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">me</span> <span class="op">=</span> <span class="fu"><a href="../reference/cfUser-class.html">cf_user</a></span><span class="op">(</span><span class="st">"username"</span>, <span class="st">"password"</span><span class="op">)</span></span></code></pre></div>
<p>where <code>username</code> and <code>password</code> is substituted for the user’s CliFlo credentials.</p>
</div>
<div class="section level2">
<h2 id="create-clifro-datatypes">Create clifro Datatypes<a class="anchor" aria-label="anchor" href="#create-clifro-datatypes"></a>
</h2>
<p>Once the user has been authenticated, the next step is to choose the datatypes of interest, see the <a href="choose-datatype.html">choose datatypes vignette</a> for details on choosing datatypes. For this example we are interested in daily MSL atmospheric pressure, minimum and maximum temperature extremes (deg C), daily rainfall (mm) and daily surface wind. (m/s).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.dts</span> <span class="op">=</span> <span class="fu"><a href="../reference/cfDatatype-class.html">cf_datatype</a></span><span class="op">(</span>select_1 <span class="op">=</span>     <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>,  <span class="fl">4</span>,  <span class="fl">3</span>,  <span class="fl">2</span><span class="op">)</span>, </span>
<span>                     select_2 <span class="op">=</span>     <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,  <span class="fl">2</span>,  <span class="fl">1</span>,  <span class="fl">1</span><span class="op">)</span>, </span>
<span>                     check_box <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">3</span>,  <span class="fl">1</span>,  <span class="fl">1</span>,  <span class="fl">4</span><span class="op">)</span>, </span>
<span>                     combo_box <span class="op">=</span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">my.dts</span></span></code></pre></div>
<pre><code><span><span class="co">##                      dt.name              dt.type    dt.options dt.combo</span></span>
<span><span class="co">## dt1                 Pressure             Pressure      [9amMSL]         </span></span>
<span><span class="co">## dt2 Temperature and Humidity         Max_min_temp [DailyMaxMin]         </span></span>
<span><span class="co">## dt3            Precipitation Rain (fixed periods)      [Daily ]         </span></span>
<span><span class="co">## dt4                     Wind         Surface wind     [9amWind]      m/s</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="create-clifro-stations">Create clifro Stations<a class="anchor" aria-label="anchor" href="#create-clifro-stations"></a>
</h2>
<p>The third requisite for a valid <code>clifro</code> query is the station where the data has been collected. If the agent numbers of the required CliFlo stations are known, the only function needed to create a clifro station <code>cfStation</code> object is <code>cf_station</code>. See the <a href="choose-station.html">choose station vignette</a> for help with choosing stations when the agent numbers are unknown, and the <a href="cfStation.html">working with clifro stations vignette</a> for further information and methods on <code>cfStation</code> objects.</p>
<p>For this example we are interested in assessing how these datatypes differ in various parts of the country by taking a selection of stations from various regions. These include a station from Invercargill (5814), Nelson (4241), Hamilton (2112) and Auckland (1962)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.stations</span> <span class="op">=</span> <span class="fu"><a href="../reference/cfStation-class.html">cf_station</a></span><span class="op">(</span><span class="fl">5814</span>, <span class="fl">4241</span>, <span class="fl">2112</span>, <span class="fl">1962</span><span class="op">)</span></span>
<span><span class="va">my.stations</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">##                name network agent      start                 end</span></span>
<span><span class="co">## 1 Invercargill Aero  I68433  5814 1939-09-01 2020-08-18 02:00:00</span></span>
<span><span class="co">## 2       Nelson Aero  G13222  4241 1940-07-01 2020-08-18 02:00:00</span></span>
<span><span class="co">## 3     Auckland Aero  C74082  1962 1962-05-01 2020-08-18 02:00:00</span></span>
<span><span class="co">## 4      Hamilton Aws  C75834  2112 1989-11-30 2020-08-18 02:00:00</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="retrieve-the-cliflo-data">Retrieve the CliFlo Data<a class="anchor" aria-label="anchor" href="#retrieve-the-cliflo-data"></a>
</h2>
<p>Now that we have a valid <code>clifro</code> user and the datatypes and stations of interest, a <code>clifro</code> query can be conducted using the <code>cf_query</code> function. We are interested in all available data from 2012 to 2014.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cf.datalist</span> <span class="op">=</span> <span class="fu"><a href="../reference/cf_query.html">cf_query</a></span><span class="op">(</span>user <span class="op">=</span> <span class="va">me</span>, </span>
<span>                       datatype <span class="op">=</span> <span class="va">my.dts</span>, </span>
<span>                       station <span class="op">=</span> <span class="va">my.stations</span>, </span>
<span>                       start_date <span class="op">=</span> <span class="st">"2012-01-01 00"</span>, </span>
<span>                       end_date <span class="op">=</span> <span class="st">"2014-01-01 00"</span><span class="op">)</span></span>
<span><span class="va">cf.datalist</span></span></code></pre></div>
<pre><code><span><span class="co">## List containing clifro data frames:</span></span>
<span><span class="co">##               data      type              start                end rows</span></span>
<span><span class="co">## df 1)     Pressure  9am only (2012-01-01  9:00) (2013-01-01  9:00) 1468</span></span>
<span><span class="co">## df 2)      Max_min     Daily (2012-01-01  9:00) (2013-12-31  9:00) 2923</span></span>
<span><span class="co">## df 3)         Rain     Daily (2012-01-01  9:00) (2013-12-31  9:00) 2923</span></span>
<span><span class="co">## df 4) Surface Wind  9am only (2012-01-01  9:00) (2013-01-01  9:00) 1468</span></span></code></pre>
<p>We can see that the pressure and surface wind data only span one year.</p>
</div>
<div class="section level2">
<h2 id="plot-the-cliflo-data">Plot the CliFlo Data<a class="anchor" aria-label="anchor" href="#plot-the-cliflo-data"></a>
</h2>
<p>There is now a list of 4 dataframes in R containing all the available data for each of the stations and datatypes chosen above. The plotting is simply done with a call to <code>plot</code>, the type of plot and plotting options depends on the datatype. See <code><a href="../reference/plot.cfDataList.html">?'plot.cfDataList'</a></code> for details on default <code>clifro</code> plotting. The following are examples of <em>some</em> of the plots possible with <code>clifro</code>, note how the optional <code>ggtheme</code> argument changes the look of the plots.</p>
<div class="section level3">
<h3 id="msl-atmospheric-pressure">MSL Atmospheric Pressure<a class="anchor" aria-label="anchor" href="#msl-atmospheric-pressure"></a>
</h3>
<p>This is the first dataframe in <code>cf.datalist</code>. Since the first argument passed to <code>plot</code> is a list of different datatypes (<code>cfDataList</code>), the second argument (<code>y</code>) tells the <code>plot</code> method which of the four dataframes to plot.</p>
<p>We could therefore simply type <code>plot(cf.datalist, y = 1)</code> and get a nice plot of the MSL atmospheric pressure, but it is usually nice to modify the defaults slightly. Since the plot method returns a <code>ggplot</code> object, we can easily modify the plots using <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load the ggplot2 library for element_text() and geom_smooth() functions</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Increase the text size to 16pt and add a loess smoother with a span equal to a </span></span>
<span><span class="co"># quarter of the window</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cf.datalist</span>, ggtheme <span class="op">=</span> <span class="st">"bw"</span>, text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"loess"</span>, span <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figures/mslAtmosPress2.png" title="Improved MSL Atmospheric Pressure" alt=""><p class="caption">Improved MSL Atmospheric Pressure</p>
</div>
</div>
<div class="section level3">
<h3 id="daily-temperature-extremes">Daily Temperature Extremes<a class="anchor" aria-label="anchor" href="#daily-temperature-extremes"></a>
</h3>
<p>This is the second dataframe in <code>cf.datalist</code>, therefore <code>y = 2</code>. These are temperature data showing the air temperature extremes at each of the four stations, represented by a grey region in the plot. Note that if the average temperature were available, these would be plotted too.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Try a different ggtheme</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cf.datalist</span>, <span class="fl">2</span>, ggtheme <span class="op">=</span> <span class="st">"linedraw"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figures/temperature.png" title="Temperature Extremes" alt=""><p class="caption">Temperature Extremes</p>
</div>
</div>
<div class="section level3">
<h3 id="rain">Rain<a class="anchor" aria-label="anchor" href="#rain"></a>
</h3>
<p>This is the third dataframe in <code>cf.datalist</code>, therefore <code>y = 3</code>. Currently there are two possible default plots available for rainfall; with or without soil deficit/runoff.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Try yet another ggtheme</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cf.datalist</span>, <span class="fl">3</span>, ggtheme <span class="op">=</span> <span class="st">"light"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or only plot the rainfall data</span></span>
<span><span class="co"># plot(cf.datalist, 3, ggtheme = "light", include_runoff = FALSE)</span></span></code></pre></div>
<div class="figure">
<img src="figures/rainRunoff.png" title="Rain with Soil Deficit and Runoff" alt=""><p class="caption">Rain with Soil Deficit and Runoff</p>
</div>
</div>
<div class="section level3">
<h3 id="wind">Wind<a class="anchor" aria-label="anchor" href="#wind"></a>
</h3>
<p>There are three types of plots available for wind data in <code>clifro</code>. The default is to plot a windrose displaying wind speed and directions of the full time series at each station. The <code>windrose</code> function in <code>clifro</code> is also available for the user to plot their own directional data - see <code><a href="../reference/windrose.html">?windrose</a></code>. The other two optional plots for wind data in <code>clifro</code> are the wind speed and wind direction plots. These plots display wind speed and direction patterns through time, adding valuable temporal information that is not portrayed in the windroses.</p>
<p>The wind datatype is the fourth dataframe in <code>cf.datalist</code>, therefore <code>y = 4</code>.</p>
<div class="section level4">
<h4 id="windrose">Windrose<a class="anchor" aria-label="anchor" href="#windrose"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Defaults to windrose</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cf.datalist</span>, <span class="fl">4</span>, n_col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figures/windrose.png" title="Windrose" alt=""><p class="caption">Windrose</p>
</div>
</div>
<div class="section level4">
<h4 id="wind-speeds-and-directions">Wind Speeds and Directions<a class="anchor" aria-label="anchor" href="#wind-speeds-and-directions"></a>
</h4>
<p>The other two plotting methods for wind data are the <code>speed_plot</code> and <code>direction_plot</code> functions to assess the temporal variability in wind (plots not shown).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot the wind speeds through time, choose the 'classic' ggtheme and</span></span>
<span><span class="co"># allow the y-axis scales to differ for each station</span></span>
<span><span class="fu"><a href="../reference/plot-cfWind-missing-method.html">speed_plot</a></span><span class="op">(</span><span class="va">cf.datalist</span>, <span class="fl">4</span>, ggtheme <span class="op">=</span> <span class="st">"classic"</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot wind direction contours through time</span></span>
<span><span class="fu"><a href="../reference/plot-cfWind-missing-method.html">direction_plot</a></span><span class="op">(</span><span class="va">cf.datalist</span>, <span class="fl">4</span>, n_col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="data-export">Data Export<a class="anchor" aria-label="anchor" href="#data-export"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export the data as separate CSV files to the current working directory</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">cf.datalist</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">cf.datalist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, </span>
<span>            file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">cf.datalist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">@</span><span class="va">dt_name</span>, <span class="st">"_"</span><span class="op">)</span>, </span>
<span>                            tmpdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath</a></span><span class="op">(</span><span class="st">"."</span><span class="op">)</span>, </span>
<span>                            fileext <span class="op">=</span> <span class="st">".csv"</span><span class="op">)</span>,</span>
<span>            na <span class="op">=</span> <span class="st">""</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Each dataset is saved separately here:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The primary aim of this package is to make the substantial amount of climate data residing within the National Climate Database more accessible and easier to work with. The <code>clifro</code> package has many advantages over using the CliFlo web portal including conducting searches much more efficiently, examining the spatial extent of the stations and enabling high quality plots to aid the data exploration and analysis stage.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
